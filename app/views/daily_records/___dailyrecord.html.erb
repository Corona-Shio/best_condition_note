<% is_new = !daily_record.sleep.present? %>
<% frame_id = is_new ? "record_#{daily_record.date}" : daily_record %>

<%= turbo_frame_tag frame_id do %>
  <div class="table-row">
    <div class="table-cell" data-label="Date">
      <%= daily_record.date %>
    </div>
    <div class="table-cell" data-label="Sleep">
      <%= is_new ? '-' : daily_record.sleep %>
    </div>
    <div class="table-cell" data-label="Meal">
      <%= is_new ? '-' : daily_record.meal %>
    </div>
    <div class="table-cell" data-label="Mental">
      <%= is_new ? '-' :  daily_record.mental %>
    </div>
    <div class="table-cell" data-label="Training">
      <%= is_new ? '-' :  daily_record.training %>
    </div>
    <div class="table-cell" data-label="Condition">
      <%= is_new ? '-' :  daily_record.condition %>
    </div>
    <div class="table-cell" data-label="Actions">
      <% if is_new %>
        <%= link_to 'New', new_daily_record_path(date: daily_record.date),
          data: { turbo_frame: frame_id } %>
      <% else %>
        <%= link_to 'Edit', edit_daily_record_path(daily_record),
          data: { turbo_frame: frame_id } %>
      <% end %>
    </div>
  </div>
<% end %>
